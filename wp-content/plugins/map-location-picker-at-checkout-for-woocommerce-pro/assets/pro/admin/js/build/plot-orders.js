!function(a){var o=function(a,o){var t=void 0===a?{center:{lat:mapOptions.lpac_map_default_latitude,lng:mapOptions.lpac_map_default_longitude},zoom:mapOptions.lpac_map_zoom_level,streetViewControl:!1,clickableIcons:mapOptions.lpac_map_clickable_icons,backgroundColor:mapOptions.lpac_map_background_color}:a,e=void 0===o?"":o;e=e||"lpac-map";var n=document.querySelector(".".concat(e));if(n)return new google.maps.Map(n,t)}(),t=[];function e(){return{from:a("#lpac_export_date_from").val(),to:a("#lpac_export_date_to").val()}}function n(a){wp.ajax.post("lpac_get_orders_by_range",{dateRange:a}).done(l).fail((function(a){alert(a)}))}function l(a){for(var e=0;e<t.length;e++)t[e].setMap(null);a.forEach((function(a){var e=function(a){var o=void 0===a?{}:a;return new google.maps.Marker(o)}({clickable:!1,position:{lat:parseFloat(a.latitude),lng:parseFloat(a.longitude)},map:o});t.push(e)}))}google.maps.event.addListenerOnce(o,"tilesloaded",(function(){n(e())})),a("#lpac_export_date_from").on("change",(function(){n(e())})),a("#lpac_export_date_to").on("change",(function(){n(e())}))}(jQuery);